<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-Shirt Shop</title>
    <style>
        /* CSS for styling the shop */
        .tshirt {
            width: 200px;
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: inline-block;
            text-align: center;
        }
        .tshirt img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Welcome to Our T-Shirt Shop!</h1>
    
    <!-- Shop Container -->
    <div id="shop"></div>


    <!-- Cart Container -->
<div id="cart">
    <h2>Cart</h2>
    <ul id="cart-items"></ul>
    <p id="total"></p>
</div>


    <script>
        // Function to fetch t-shirt data from API
        async function fetchTshirts() {
            try {
                const response = await fetch('https://api.example.com/tshirts');
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error fetching t-shirts:', error);
            }
        }

        // Function to generate t-shirt HTML
        function generateTshirtHTML(tshirt) {
            return `
                <div class="tshirt" data-id="${tshirt.id}">
                    <img src="${tshirt.image}" alt="${tshirt.name}">
                    <h2>${tshirt.name}</h2>
                    <p>$${tshirt.price.toFixed(2)}</p>
                    <button class="add-to-cart">Add to Cart</button>
                </div>
            `;
        }

        // Populate the shop container with t-shirts fetched from API
        async function populateShop() {
            const shopContainer = document.getElementById("shop");
            const tshirts = await fetchTshirts();
            tshirts.forEach(tshirt => {
                shopContainer.innerHTML += generateTshirtHTML(tshirt);
            });
        }

        // Event listener for add to cart buttons
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('add-to-cart')) {
                const tshirt = event.target.parentNode;
                const id = tshirt.getAttribute('data-id');
                const name = tshirt.querySelector('h2').textContent;
                addToCart({ id, name });
            }
        });

        // Function to add item to cart
        function addToCart(item) {
            const cartItems = document.getElementById('cart-items');
            const li = document.createElement('li');
            li.textContent = item.name;
            cartItems.appendChild(li);
        }

        // Call populateShop function to populate the shop
        populateShop();
    </script>
</body>
</html>
